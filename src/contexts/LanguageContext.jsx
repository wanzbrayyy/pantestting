import React, { createContext, useContext, useState } from 'react';

const LanguageContext = createContext();

const translations = {
  en: {
    // ... existing EN translations
    home: 'Home',
    courses: 'Courses',
    login: 'Login',
    register: 'Register',
    dashboard: 'Dashboard',
    profile: 'Profile',
    admin: 'Admin',
    logout: 'Logout',
    welcomeTitle: 'Welcome to Learning Platform',
    welcomeSubtitle: 'Master new skills with interactive courses, quizzes, and certificates',
    aboutMe: 'About Me',
    aboutDescription: 'We are dedicated to providing high-quality online education with interactive learning experiences.',
    getStarted: 'Get Started',
    learnMore: 'Learn More',
    allCourses: 'All Courses',
    courseDetails: 'Course Details',
    startCourse: 'Start Course',
    duration: 'Duration',
    benefits: 'Benefits',
    downloadPDF: 'Download PDF',
    quiz: 'Quiz',
    question: 'Question',
    timeRemaining: 'Time Remaining',
    nextQuestion: 'Next Question',
    finishQuiz: 'Finish Quiz',
    quizCompleted: 'Quiz Completed!',
    yourScore: 'Your Score',
    watchVideo: 'Watch Video',
    continue: 'Continue',
    email: 'Email',
    password: 'Password',
    confirmPassword: 'Confirm Password',
    fullName: 'Full Name',
    loginTitle: 'Login to Your Account',
    registerTitle: 'Create New Account',
    alreadyHaveAccount: 'Already have an account?',
    dontHaveAccount: "Don't have an account?",
    adminDashboard: 'Admin Dashboard',
    createCourse: 'Create Course',
    manageCourses: 'Manage Courses',
    createQuiz: 'Create Quiz',
    uploadPDF: 'Upload PDF',
    uploadVideo: 'Upload Video',
    courseTitle: 'Course Title',
    courseDescription: 'Course Description',
    courseBenefits: 'Course Benefits',
    back: 'Back',
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    edit: 'Edit',
    upload: 'Upload',
    download: 'Download',
    loading: 'Loading...',
    success: 'Success!',
    error: 'Error!',
    notImplemented: 'ðŸš§ This feature isn\'t implemented yetâ€”but don\'t worry! You can request it in your next prompt! ðŸš€',
    
    // New Translations
    myCertificates: "My Certificates",
    generateCertificate: "Generate Certificate",
    finalExam: "Final Exam",
    startExam: "Start Exam",
    examScore: "Exam Score",
    points: "Points",
    congratulations: "Congratulations!",
    youPassedTheExam: "You have successfully passed the exam and earned a certificate!",
    viewCertificate: "View Certificate",
    failedExam: "Try Again",
    youFailedTheExam: "Unfortunately, you did not pass the exam. Please review the material and try again.",
    retakeExam: "Retake Exam",
    referralSystem: "Referral System",
    copyLink: "Copy Link",
    copied: "Copied!",
    referralInfo: "Share this link with your friends. You both get 10 points when they register!",
    discussionGroup: "Discussion Group",
    joinCommunity: "Join Community",
    yourPoints: "Your Points",
    manageExams: "Manage Exams",
    createExam: "Create Exam",
    examTitle: "Exam Title"
  },
  id: {
    // ... existing ID translations
    home: 'Beranda',
    courses: 'Kursus',
    login: 'Masuk',
    register: 'Daftar',
    dashboard: 'Dashboard',
    profile: 'Profil',
    admin: 'Admin',
    logout: 'Keluar',
    welcomeTitle: 'Selamat Datang di Platform Pembelajaran',
    welcomeSubtitle: 'Kuasai keterampilan baru dengan kursus interaktif, kuis, dan sertifikat',
    aboutMe: 'Tentang Kami',
    aboutDescription: 'Kami berdedikasi menyediakan pendidikan online berkualitas tinggi dengan pengalaman belajar interaktif.',
    getStarted: 'Mulai Sekarang',
    learnMore: 'Pelajari Lebih Lanjut',
    allCourses: 'Semua Kursus',
    courseDetails: 'Detail Kursus',
    startCourse: 'Mulai Kursus',
    duration: 'Durasi',
    benefits: 'Manfaat',
    downloadPDF: 'Unduh PDF',
    quiz: 'Kuis',
    question: 'Pertanyaan',
    timeRemaining: 'Waktu Tersisa',
    nextQuestion: 'Pertanyaan Selanjutnya',
    finishQuiz: 'Selesaikan Kuis',
    quizCompleted: 'Kuis Selesai!',
    yourScore: 'Skor Anda',
    watchVideo: 'Tonton Video',
    continue: 'Lanjutkan',
    email: 'Email',
    password: 'Kata Sandi',
    confirmPassword: 'Konfirmasi Kata Sandi',
    fullName: 'Nama Lengkap',
    loginTitle: 'Masuk ke Akun Anda',
    registerTitle: 'Buat Akun Baru',
    alreadyHaveAccount: 'Sudah punya akun?',
    dontHaveAccount: 'Belum punya akun?',
    adminDashboard: 'Dashboard Admin',
    createCourse: 'Buat Kursus',
    manageCourses: 'Kelola Kursus',
    createQuiz: 'Buat Kuis',
    uploadPDF: 'Upload PDF',
    uploadVideo: 'Upload Video',
    courseTitle: 'Judul Kursus',
    courseDescription: 'Deskripsi Kursus',
    courseBenefits: 'Manfaat Kursus',
    back: 'Kembali',
    save: 'Simpan',
    cancel: 'Batal',
    delete: 'Hapus',
    edit: 'Edit',
    upload: 'Upload',
    download: 'Unduh',
    loading: 'Memuat...',
    success: 'Berhasil!',
    error: 'Error!',
    notImplemented: 'ðŸš§ Fitur ini belum diimplementasikanâ€”tapi jangan khawatir! Anda bisa memintanya di prompt berikutnya! ðŸš€',
    
    // New Translations
    myCertificates: "Sertifikat Saya",
    generateCertificate: "Buat Sertifikat",
    finalExam: "Ujian Akhir",
    startExam: "Mulai Ujian",
    examScore: "Skor Ujian",
    points: "Poin",
    congratulations: "Selamat!",
    youPassedTheExam: "Anda telah berhasil lulus ujian dan mendapatkan sertifikat!",
    viewCertificate: "Lihat Sertifikat",
    failedExam: "Coba Lagi",
    youFailedTheExam: "Sayangnya, Anda tidak lulus ujian. Harap tinjau kembali materi dan coba lagi.",
    retakeExam: "Ulangi Ujian",
    referralSystem: "Sistem Referral",
    copyLink: "Salin Tautan",
    copied: "Tersalin!",
    referralInfo: "Bagikan tautan ini dengan teman-teman Anda. Kalian berdua akan mendapatkan 10 poin saat mereka mendaftar!",
    discussionGroup: "Grup Diskusi",
    joinCommunity: "Gabung Komunitas",
    yourPoints: "Poin Anda",
    manageExams: "Kelola Ujian",
    createExam: "Buat Ujian",
    examTitle: "Judul Ujian"
  },
  ja: {
    // ... existing JA translations
    home: 'ãƒ›ãƒ¼ãƒ ',
    courses: 'ã‚³ãƒ¼ã‚¹',
    login: 'ãƒ­ã‚°ã‚¤ãƒ³',
    register: 'ç™»éŒ²',
    dashboard: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
    profile: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«',
    admin: 'ç®¡ç†è€…',
    logout: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
    welcomeTitle: 'å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ã‚ˆã†ã“ã',
    welcomeSubtitle: 'ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ¼ã‚¹ã€ã‚¯ã‚¤ã‚ºã€è¨¼æ˜Žæ›¸ã§æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚’ãƒžã‚¹ã‚¿ãƒ¼ã—ã¾ã—ã‚‡ã†',
    aboutMe: 'ç§ãŸã¡ã«ã¤ã„ã¦',
    aboutDescription: 'ç§ãŸã¡ã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªå­¦ç¿’ä½“é¨“ã‚’é€šã˜ã¦é«˜å“è³ªãªã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ•™è‚²ã‚’æä¾›ã™ã‚‹ã“ã¨ã«å°‚å¿µã—ã¦ã„ã¾ã™ã€‚',
    getStarted: 'å§‹ã‚ã‚‹',
    learnMore: 'è©³ç´°ã‚’è¦‹ã‚‹',
    allCourses: 'ã™ã¹ã¦ã®ã‚³ãƒ¼ã‚¹',
    courseDetails: 'ã‚³ãƒ¼ã‚¹è©³ç´°',
    startCourse: 'ã‚³ãƒ¼ã‚¹ã‚’é–‹å§‹',
    duration: 'æœŸé–“',
    benefits: 'ãƒ¡ãƒªãƒƒãƒˆ',
    downloadPDF: 'PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰',
    quiz: 'ã‚¯ã‚¤ã‚º',
    question: 'è³ªå•',
    timeRemaining: 'æ®‹ã‚Šæ™‚é–“',
    nextQuestion: 'æ¬¡ã®è³ªå•',
    finishQuiz: 'ã‚¯ã‚¤ã‚ºçµ‚äº†',
    quizCompleted: 'ã‚¯ã‚¤ã‚ºå®Œäº†ï¼',
    yourScore: 'ã‚ãªãŸã®ã‚¹ã‚³ã‚¢',
    watchVideo: 'ãƒ“ãƒ‡ã‚ªã‚’è¦‹ã‚‹',
    continue: 'ç¶šã‘ã‚‹',
    email: 'ãƒ¡ãƒ¼ãƒ«',
    password: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
    confirmPassword: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª',
    fullName: 'ãƒ•ãƒ«ãƒãƒ¼ãƒ ',
    loginTitle: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³',
    registerTitle: 'æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ',
    alreadyHaveAccount: 'ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ',
    dontHaveAccount: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„ã§ã™ã‹ï¼Ÿ',
    adminDashboard: 'ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
    createCourse: 'ã‚³ãƒ¼ã‚¹ä½œæˆ',
    manageCourses: 'ã‚³ãƒ¼ã‚¹ç®¡ç†',
    createQuiz: 'ã‚¯ã‚¤ã‚ºä½œæˆ',
    uploadPDF: 'PDF ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
    uploadVideo: 'ãƒ“ãƒ‡ã‚ªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
    courseTitle: 'ã‚³ãƒ¼ã‚¹ã‚¿ã‚¤ãƒˆãƒ«',
    courseDescription: 'ã‚³ãƒ¼ã‚¹èª¬æ˜Ž',
    courseBenefits: 'ã‚³ãƒ¼ã‚¹ã®ãƒ¡ãƒªãƒƒãƒˆ',
    back: 'æˆ»ã‚‹',
    save: 'ä¿å­˜',
    cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
    delete: 'å‰Šé™¤',
    edit: 'ç·¨é›†',
    upload: 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
    download: 'ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰',
    loading: 'èª­ã¿è¾¼ã¿ä¸­...',
    success: 'æˆåŠŸï¼',
    error: 'ã‚¨ãƒ©ãƒ¼ï¼',
    notImplemented: 'ðŸš§ ã“ã®æ©Ÿèƒ½ã¯ã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚æ¬¡ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼ ðŸš€',
    
    // New Translations
    myCertificates: "ç§ã®è¨¼æ˜Žæ›¸",
    generateCertificate: "è¨¼æ˜Žæ›¸ã‚’ç”Ÿæˆ",
    finalExam: "æœŸæœ«è©¦é¨“",
    startExam: "è©¦é¨“ã‚’é–‹å§‹",
    examScore: "è©¦é¨“ã‚¹ã‚³ã‚¢",
    points: "ãƒã‚¤ãƒ³ãƒˆ",
    congratulations: "ãŠã‚ã§ã¨ã†ï¼",
    youPassedTheExam: "è©¦é¨“ã«åˆæ ¼ã—ã€è¨¼æ˜Žæ›¸ã‚’ç²å¾—ã—ã¾ã—ãŸï¼",
    viewCertificate: "è¨¼æ˜Žæ›¸ã‚’è¦‹ã‚‹",
    failedExam: "å†æŒ‘æˆ¦",
    youFailedTheExam: "æ®‹å¿µãªãŒã‚‰ã€è©¦é¨“ã«åˆæ ¼ã—ã¾ã›ã‚“ã§ã—ãŸã€‚æ•™æã‚’è¦‹ç›´ã—ã¦ã€å†æŒ‘æˆ¦ã—ã¦ãã ã•ã„ã€‚",
    retakeExam: "è©¦é¨“ã‚’å†å—é¨“",
    referralSystem: "ç´¹ä»‹åˆ¶åº¦",
    copyLink: "ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼",
    copied: "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼",
    referralInfo: "ã“ã®ãƒªãƒ³ã‚¯ã‚’å‹é”ã¨å…±æœ‰ã—ã¦ãã ã•ã„ã€‚å‹é”ãŒç™»éŒ²ã™ã‚‹ã¨ã€ãŠäº’ã„ã«10ãƒã‚¤ãƒ³ãƒˆã‚‚ã‚‰ãˆã¾ã™ï¼",
    discussionGroup: "ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—",
    joinCommunity: "ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ",
    yourPoints: "ã‚ãªãŸã®ãƒã‚¤ãƒ³ãƒˆ",
    manageExams: "è©¦é¨“ã‚’ç®¡ç†",
    createExam: "è©¦é¨“ã‚’ä½œæˆ",
    examTitle: "è©¦é¨“ã‚¿ã‚¤ãƒˆãƒ«"
  }
};

export const LanguageProvider = ({ children }) => {
  const [language, setLanguage] = useState('id');

  const t = (key) => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};